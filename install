#!/bin/sh

echo "~/.tools"
cp -Rf tools ~/.tools
ls -al ~/.tools


echo "~/.screenrc"
cp -f screenrc ~/.screenrc

if [ ! -e ~/.gitconfig.backup ]; then
  echo "backup .gitconfig .."
  mv -f ~/.gitconfig ~/.gitconfig.backup
fi
echo "~/.gitconfig"
cp -f gitconfig ~/.gitconfig

echo "~/.gitignore"
cp -f gitignore ~/.gitignore


echo "Installing zshkit"

rm -Rf ~/.zshkit
cp -Rf zshkit ~/.zshkit
~/.zshkit/install

echo "Adding homedir extra lines to ~/.zshrc"
cat zshrc_addons >> ~/.zshrc

echo "Done"
echo "To do local customization create ~/.zshrc.local and add strings into it\n"


echo "Removing existing vim dotfiles"

if [ ! -e ~/.vim.backup ]; then
  echo "backup .vim .."
  mv -f ~/.vim ~/.vim.backup
fi
if [ ! -e ~/.vimrc.backup ]; then
  echo "backup .vimrc .."
  mv -f ~/.vimrc ~/.vimrc.backup
fi

rm -Rf ~/.vim
rm -f ~/.vimrc

echo ".vimrc"
cp -f vimrc ~/.vimrc

echo "Cloning akita vimfiles"

git clone git://github.com/akitaonrails/vimfiles.git ~/.vim

cd ~/.vim

echo "Updating submodules"

git submodule init
git submodule update
git submodule foreach git co master
git submodule foreach git pull

echo "\nDone"

echo "To patch vim syntastic plugin to support 1.9 syntax do:"
echo "cp syntastic.patch ~/.vim/bunle/syntastic/ && cd ~/.vim/bundle/syntastic/ && cat syntastic.patch | patch -p"
echo "========================================================"
echo "Warning! Remember that after the installation Git is configured to use the default name and email."
echo "In order to change them you should edit the [user] section in the ~/.gitconfig file."
